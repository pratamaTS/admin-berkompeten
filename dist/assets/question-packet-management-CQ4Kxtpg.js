import{u as f,f as d,W as L,g as x,o as p,c as g,D as b,X as B,a as t,d as n,w as c,F as A,Y as D,t as i,b as h,Z as v,e as N}from"./index-De0cW8vH.js";import{a as k}from"./VGrid-CSSzMaaB.js";import{V as P}from"./VTable-BqDyC4Lm.js";import{V as S}from"./VRow-Ck8Nnqqw.js";import{V as I}from"./VCol-Dn84ANm3.js";const $=t("thead",null,[t("tr",null,[t("th",{class:"text-uppercase"},"Name"),t("th",{class:"text-center text-uppercase"},"Is Active"),t("th",{class:"text-center text-uppercase"},"Created At"),t("th",{class:"text-center text-uppercase"},"Updated At")])],-1),T={class:"text-center"},z={class:"text-center"},F={class:"text-center"},M={__name:"QuestionPacketList",setup(w){const u=f(),_=localStorage.getItem("token"),l=d([]),e=d(""),s=d({current_page:1,from:1,last_page:1,next_page_url:null,prev_page_url:null,total:0}),m=async(r=1)=>{try{const a=await k.get(`https://gateway.berkompeten.com/api/admin/master/question-packet?page=${r}`,{headers:{Authorization:`Bearer ${_}`}});l.value=a.data.data.data,s.value=a.data.data}catch(a){console.log("err: ",a),a.response&&a.response.status===401&&(localStorage.removeItem("token"),u.push("/login"))}},C=L(()=>e.value?l.value.filter(r=>r.name.toLowerCase().includes(e.value.toLowerCase())||r.is_active.toLowerCase().includes(e.value.toLowerCase())||r.created_at.toLowerCase().includes(e.value.toLowerCase())||r.updated_at.toLowerCase().includes(e.value.toLowerCase())):l.value),V=()=>{s.value.next_page_url&&m(s.value.current_page+1)},y=()=>{s.value.prev_page_url&&m(s.value.current_page-1)};return x(()=>{m()}),(r,a)=>(p(),g("div",null,[b(t("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>e.value=o),placeholder:"Search..."},null,512),[[B,e.value]]),n(P,{height:"250","fixed-header":""},{default:c(()=>[$,t("tbody",null,[(p(!0),g(A,null,D(C.value,o=>(p(),g("tr",{key:o.id},[t("td",null,i(o.name),1),t("td",T,i(o.is_active),1),t("td",z,i(o.created_at),1),t("td",F,i(o.updated_at),1)]))),128))])]),_:1}),t("div",null,[n(v,{onClick:y,disabled:!s.value.prev_page_url,class:"mx-1"},{default:c(()=>[h("Previous")]),_:1},8,["disabled"]),n(v,{onClick:V,disabled:!s.value.next_page_url,class:"mx-1"},{default:c(()=>[h("Next")]),_:1},8,["disabled"])])]))}},X={__name:"question-packet-management",setup(w){const u=localStorage.getItem("token"),_=d(null),l=f();return x(async()=>{if(u)try{const e=await k.get("https://gateway.berkompeten.com/api/admin/profile",{headers:{Authorization:`Bearer ${u}`}});_.value=e.data}catch(e){e.response&&e.response.status===401&&l.push("/login")}else l.push("/login")}),(e,s)=>(p(),N(S,{class:"match-height"},{default:c(()=>[n(I,{cols:"12",md:"12"},{default:c(()=>[n(M)]),_:1})]),_:1}))}};export{X as default};
