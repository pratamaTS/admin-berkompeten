import{_ as k,h as x,O as g,al as C,r as _,i as T,C as M,a1 as P,c as p,d as a,w as s,o as c,a as m,u as R,am as S,a2 as I,b as N,t as w,L as V,R as B,S as E}from"./index-AryBdys7.js";import{l as L}from"./berkompeten_logo-eijgBe6e.js";import{a as U,b as q}from"./auth-v1-mask-light-Dw7KYw8D.js";import{a as A}from"./VGrid-H4nAnDsn.js";import{V as j,b as D}from"./VCard-DRv5nRi-.js";import{V as v,a as F,b as d}from"./VCardText-Ccz8IcNf.js";import{V as H}from"./VForm-2GwK3Akv.js";import{V as u}from"./VTextField-ZuzApsZG.js";import"./VCardTitle-gQEIOlk7.js";import"./VAvatar-Bk7bSWw5.js";import"./VImg-BnnpGyml.js";import"./index-DYhDWbac.js";import"./VInput-0JT9cSES.js";import"./forwardRefs-BgKS6qNZ.js";import"./easing-DY7PVvcf.js";const b=n=>(B("data-v-b214c7db"),n=n(),E(),n),O={class:"auth-wrapper d-flex align-center justify-center pa-4"},z={class:"d-flex"},G=["innerHTML"],J=b(()=>m("h5",{class:"text-h5 font-weight-semibold mb-1"},"Reset Password",-1)),K=b(()=>m("p",{class:"mb-0"},"Enter your new password",-1)),Q={key:0,class:"mt-2 text-danger",style:{color:"#ff5252"}},W={key:1,class:"mt-2 text-success"},X={__name:"reset-password",setup(n){x();const f=g(),e=C({email:"",token:"",password:"",password_confirmation:""}),r=_(null),i=_(null);T(()=>{e.email=f.query.email||"",e.token=f.query.token||""});const y=async()=>{try{if(e.password===""||e.password_confirmation===""){r.value="All fields are required";return}const l=await A.post("https://gateway.berkompeten.com/api/admin/reset-password",{email:e.email,token:e.token,password:e.password,password_confirmation:e.password_confirmation});i.value=l.data.message,r.value=null}catch(l){l.response&&l.response.data?r.value=l.response.data.message||"An error occurred":r.value="An unexpected error occurred",i.value=null}},h=M();return P(()=>h.global.name.value==="light"?U:q),(l,o)=>(c(),p("div",O,[a(j,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:s(()=>[a(D,{class:"justify-center"},{prepend:s(()=>[m("div",z,[m("div",{innerHTML:R(L)},null,8,G)])]),_:1}),a(v,{class:"pt-2"},{default:s(()=>[J,K]),_:1}),a(v,null,{default:s(()=>[a(H,{onSubmit:S(y,["prevent"])},{default:s(()=>[a(F,null,{default:s(()=>[a(d,{cols:"12"},{default:s(()=>[a(u,{modelValue:e.email,"onUpdate:modelValue":o[0]||(o[0]=t=>e.email=t),label:"Email",type:"email",readonly:""},null,8,["modelValue"])]),_:1}),a(d,{cols:"12"},{default:s(()=>[a(u,{modelValue:e.token,"onUpdate:modelValue":o[1]||(o[1]=t=>e.token=t),label:"Token",type:"text",readonly:""},null,8,["modelValue"])]),_:1}),a(d,{cols:"12"},{default:s(()=>[a(u,{modelValue:e.password,"onUpdate:modelValue":o[2]||(o[2]=t=>e.password=t),label:"New Password",type:"password"},null,8,["modelValue"])]),_:1}),a(d,{cols:"12"},{default:s(()=>[a(u,{modelValue:e.password_confirmation,"onUpdate:modelValue":o[3]||(o[3]=t=>e.password_confirmation=t),label:"Confirm Password",type:"password"},null,8,["modelValue"])]),_:1}),a(d,{cols:"12"},{default:s(()=>[a(I,{block:"",type:"submit",color:"#0080ff"},{default:s(()=>[N("Reset Password")]),_:1}),r.value?(c(),p("div",Q,w(r.value),1)):V("",!0),i.value?(c(),p("div",W,w(i.value),1)):V("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}},pe=k(X,[["__scopeId","data-v-b214c7db"]]);export{pe as default};
