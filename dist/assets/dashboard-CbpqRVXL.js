import{a as n}from"./VGrid-CSSzMaaB.js";import{g as c,u as l,aM as u,h as m,aJ as i,f as p,aK as f,o as g}from"./index-B5nBLcgW.js";import{V as h}from"./VRow-Kjp9ojPd.js";const v={__name:"dashboard",setup(k){const r=c(null),a=l(),s=u();var e=localStorage.getItem("token");return m(async()=>{const t=s.query.token;if(console.log("token get das: ",t),t&&(e=t,localStorage.setItem("token",e),console.log("token from route: ",e)),e)try{const o=await n.get("https://gateway.berkompeten.com/api/admin/profile",{headers:{Authorization:`Bearer ${e}`}});console.log(o),r.value=o.data}catch(o){o.response&&o.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),a.push("/login"))}else a.push("/login")}),(t,o)=>i(e)?(g(),p(h,{key:0,class:"match-height"})):f("",!0)}};export{v as default};
