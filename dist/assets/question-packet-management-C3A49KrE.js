import{u as g,g as u,P as b,h as v,o as i,c as _,G as y,aT as L,a as e,d as m,w as h,F as V,aU as B,t as c,f as P}from"./index-B5nBLcgW.js";import{a as f}from"./VGrid-CSSzMaaB.js";import{V as A}from"./VTable-vNZueaox.js";import{V as S}from"./VRow-Kjp9ojPd.js";import{V as D}from"./VCol-05f2kP35.js";const I=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase"},"Name"),e("th",{class:"text-center text-uppercase"},"Is Active"),e("th",{class:"text-center text-uppercase"},"Created At"),e("th",{class:"text-center text-uppercase"},"Updated At")])],-1),N={class:"text-center"},$={class:"text-center"},T={class:"text-center"},U=["disabled"],q=["disabled"],z={__name:"QuestionPacketList",setup(x){const l=g(),p=localStorage.getItem("token"),n=u([]),t=u(""),s=u({current_page:1,from:1,last_page:1,next_page_url:null,prev_page_url:null,total:0}),d=async(o=1)=>{try{const a=await f.get(`https://gateway.berkompeten.com/api/admin/master/question-packet?page=${o}`,{headers:{Authorization:`Bearer ${p}`}});n.value=a.data.data,s.value=a.data}catch(a){console.log("err: ",a),a.response&&a.response.status===401&&(localStorage.removeItem("token"),l.push("/login"))}},k=b(()=>t.value?n.value.filter(o=>o.name.toLowerCase().includes(t.value.toLowerCase())||o.is_active.toLowerCase().includes(t.value.toLowerCase())||o.created_at.toLowerCase().includes(t.value.toLowerCase())||o.updated_at.toLowerCase().includes(t.value.toLowerCase())):n.value),w=()=>{s.value.next_page_url&&d(s.value.current_page+1)},C=()=>{s.value.prev_page_url&&d(s.value.current_page-1)};return v(()=>{d()}),(o,a)=>(i(),_("div",null,[y(e("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>t.value=r),placeholder:"Search..."},null,512),[[L,t.value]]),m(A,{height:"250","fixed-header":""},{default:h(()=>[I,e("tbody",null,[(i(!0),_(V,null,B(k.value,r=>(i(),_("tr",{key:r.id},[e("td",null,c(r.name),1),e("td",N,c(r.is_active),1),e("td",$,c(r.created_at),1),e("td",T,c(r.updated_at),1)]))),128))])]),_:1}),e("div",null,[e("button",{onClick:C,disabled:!s.value.prev_page_url},"Previous",8,U),e("button",{onClick:w,disabled:!s.value.next_page_url},"Next",8,q)])]))}},G={__name:"question-packet-management",setup(x){const l=localStorage.getItem("token"),p=u(null),n=g();return v(async()=>{if(l)try{const t=await f.get("https://gateway.berkompeten.com/api/admin/profile",{headers:{Authorization:`Bearer ${l}`}});p.value=t.data}catch(t){t.response&&t.response.status===401&&n.push("/login")}else n.push("/login")}),(t,s)=>(i(),P(S,{class:"match-height"},{default:h(()=>[m(D,{cols:"12",md:"12"},{default:h(()=>[m(z)]),_:1})]),_:1}))}};export{G as default};
